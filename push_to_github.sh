#!/bin/bash

echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ backend –∫–æ–¥–∞ –Ω–∞ GitHub..."

echo "üì¶ –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã..."
git add .

echo "üíæ –î–µ–ª–∞–µ–º –∫–æ–º–º–∏—Ç..."
if git diff --cached --quiet; then
    echo "‚ÑπÔ∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
else
    git commit -m "Update: $(date '+%a %b %d %H:%M:%S %Z %Y')"
fi

echo "‚¨ÜÔ∏è  –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ GitHub..."
if git push -u origin main; then
    echo "‚úÖ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub!"
    echo ""
    echo "üìã –¢–µ–ø–µ—Ä—å:"
    echo "1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app"
    echo "2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
    echo "3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 'debilll-backend'"
    echo "4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ railway_vars.txt"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ GitHub"
    echo ""
    echo "–í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub:"
    echo "1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://github.com"
    echo "2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∏–º–µ–Ω–µ–º 'debilll-backend'"
    echo "3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞"
fi
